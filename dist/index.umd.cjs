(function(A,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(A=typeof globalThis<"u"?globalThis:A||self,e(A.VueDataTableTailwind={},A.Vue))})(this,function(A,e){"use strict";var da=Object.defineProperty;var fa=(A,e,ae)=>e in A?da(A,e,{enumerable:!0,configurable:!0,writable:!0,value:ae}):A[e]=ae;var Ie=(A,e,ae)=>fa(A,typeof e!="symbol"?e+"":e,ae);const ae=["checked","disabled","aria-checked"],Ze={class:"h-4 w-4 text-white stroke-[3]",fill:"none",viewBox:"1 1 24 24",stroke:"currentColor"},Qe={class:"h-4 w-4 text-white",fill:"none",viewBox:"1 1 24 24",stroke:"currentColor"},Xe=e.defineComponent({__name:"BaseCheckbox",props:{checked:{type:Boolean,default:!1},partial:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["change"],setup(t){const r=t,n=e.computed(()=>r.checked),a=e.computed(()=>r.partial),s=e.inject("themeClasses");return(d,p)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["relative inline-flex items-center justify-center h-5 w-5",[!d.disabled&&"cursor-pointer group",d.disabled&&"cursor-not-allowed opacity-50"]]),onClick:p[0]||(p[0]=e.withModifiers(l=>!d.disabled&&d.$emit("change"),["stop","prevent"]))},[e.createElementVNode("input",{type:"checkbox",class:"sr-only peer",checked:n.value,disabled:d.disabled,"aria-checked":n.value},null,8,ae),e.createElementVNode("div",{class:e.normalizeClass(["h-4 w-4 rounded transition-all duration-200 border",[n.value&&!a.value&&["bg-theme border-theme",!d.disabled&&"group-hover:bg-theme-hover group-hover:border-theme-hover"],a.value&&["bg-theme border-theme",!d.disabled&&"group-hover:bg-theme-hover group-hover:border-theme-hover"],!n.value&&!a.value&&["border-gray-300 bg-white",!d.disabled&&"group-hover:border-theme-light"],!d.disabled&&"peer-focus:ring-2 peer-focus:ring-offset-1 peer-focus:ring-theme-focus"]]),style:e.normalizeStyle(e.unref(s).style)},[e.withDirectives((e.openBlock(),e.createElementBlock("svg",Ze,p[1]||(p[1]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)]),512)),[[e.vShow,n.value&&!a.value]]),e.withDirectives((e.openBlock(),e.createElementBlock("svg",Qe,p[2]||(p[2]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M20 12H4"},null,-1)]),512)),[[e.vShow,a.value]])],6)],2))}}),$e=e.defineComponent({__name:"SingleSelectCheckBox",props:{checked:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},emits:["change"],setup(t,{emit:r}){const n=r;return(a,s)=>(e.openBlock(),e.createBlock(Xe,{checked:a.checked,disabled:a.disabled,partial:!1,onChange:s[0]||(s[0]=d=>n("change"))},null,8,["checked","disabled"]))}}),et=e.defineComponent({__name:"MultipleSelectCheckBox",props:{status:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["change"],setup(t,{emit:r}){const n=t,a=e.computed(()=>n.status==="allSelected"),s=e.computed(()=>n.status==="partSelected"),d=r;return(p,l)=>(e.openBlock(),e.createBlock($e,{checked:a.value,partial:s.value,disabled:t.disabled,onChange:l[0]||(l[0]=i=>d("change",!a.value))},null,8,["checked","partial","disabled"]))}}),tt={class:"relative inline-block min-w-[70px]"},rt=["aria-expanded"],at={class:"block truncate"},nt={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},ot=["aria-selected","onClick"],lt={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-4 text-primary-600"},st=e.defineComponent({__name:"RowsSelector",props:{modelValue:{type:Number,required:!0},rowsItems:{type:Array,required:!0}},emits:["update:modelValue"],setup(t,{emit:r}){const n=t,a=r,s=e.ref(!1),d=e.ref(!1),p=e.computed({get:()=>n.modelValue,set:y=>a("update:modelValue",y)}),l=e.inject("dataTable");e.watch(s,y=>{if(y&&(l!=null&&l.value)){const x=window.innerHeight,k=l.value.getBoundingClientRect(),w=x-(k.height+k.top);d.value=w<=100}});const i=y=>{p.value=y,s.value=!1},c=()=>{s.value=!s.value},o=y=>{y.target.closest(".relative")||(s.value=!1)},m=y=>{const x=y.relatedTarget;x!=null&&x.closest(".relative")||(s.value=!1)};return e.onMounted(()=>{document.addEventListener("click",o)}),e.onBeforeUnmount(()=>{document.removeEventListener("click",o)}),(y,x)=>(e.openBlock(),e.createElementBlock("div",tt,[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["relative w-full cursor-pointer rounded-md bg-white py-1.5 pl-3 pr-8 text-left text-sm shadow-sm border border-gray-300",["focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",s.value?"ring-1 ring-primary-500 border-primary-500":"hover:border-gray-400"]]),onClick:c,"aria-haspopup":"listbox","aria-expanded":s.value},[e.createElementVNode("span",at,e.toDisplayString(p.value),1),e.createElementVNode("span",nt,[(e.openBlock(),e.createElementBlock("svg",{class:e.normalizeClass(["h-4 w-4 text-gray-400 transition-transform duration-200",{"rotate-180":s.value}]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},x[0]||(x[0]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])],10,rt),e.createVNode(e.Transition,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:e.withCtx(()=>[s.value?(e.openBlock(),e.createElementBlock("ul",{key:0,class:e.normalizeClass(["absolute right-0 z-50 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",{"bottom-full mb-1":d.value}]),tabindex:"-1",role:"listbox",onFocusout:m},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.rowsItems,k=>(e.openBlock(),e.createElementBlock("li",{key:k,class:e.normalizeClass(["relative cursor-pointer select-none py-2 pl-3 pr-9 text-sm",[k===p.value?"bg-primary-100 text-primary-900":"text-gray-900 hover:bg-gray-100"]]),role:"option","aria-selected":k===p.value,onClick:w=>i(k)},[e.createElementVNode("span",{class:e.normalizeClass(["block",{"font-medium":k===p.value}])},e.toDisplayString(k),3),k===p.value?(e.openBlock(),e.createElementBlock("span",lt,x[1]||(x[1]=[e.createElementVNode("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)]))):e.createCommentVNode("",!0)],10,ot))),128))],34)):e.createCommentVNode("",!0)]),_:1})]))}}),it={class:"inline-flex relative w-[60px] h-[60px]"},ct=e.defineComponent({__name:"Loading",setup(t){const r=e.inject("themeClasses");return(n,a)=>(e.openBlock(),e.createElementBlock("div",it,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(4,s=>e.createElementVNode("div",{key:s,class:e.normalizeClass(["box-border absolute w-4/5 h-4/5 m-2 border-[8px] border-transparent rounded-full animate-ring",[`animate-delay-${(s-1)*150}`]]),style:e.normalizeStyle({borderTopColor:e.unref(r).hex})},null,6)),64))]))}}),q=(t,r)=>{const n=t.__vccOpts||t;for(const[a,s]of r)n[a]=s;return n},dt=q(ct,[["__scopeId","data-v-e9a27991"]]),ft={class:"w-full h-[3px] relative overflow-hidden bg-gray-300"},ut=q(e.defineComponent({__name:"LoadingLine",setup(t){const r=e.inject("themeClasses");return(n,a)=>(e.openBlock(),e.createElementBlock("div",ft,[e.createElementVNode("div",{class:"absolute h-[3px] w-2/5 animate-loading-line",style:e.normalizeStyle({backgroundColor:e.unref(r).hex})},null,4)]))}}),[["__scopeId","data-v-cbdc3562"]]),pt={},gt={class:"h-[18px] w-[18px]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"};function mt(t,r){return e.openBlock(),e.createElementBlock("svg",gt,r[0]||(r[0]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]))}const ve=q(pt,[["render",mt]]),ht={},yt={class:"h-[18px] w-[18px]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"};function bt(t,r){return e.openBlock(),e.createElementBlock("svg",yt,r[0]||(r[0]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"},null,-1)]))}const Ae=q(ht,[["render",bt]]),kt={},xt={class:"px-3 py-1.5"};function wt(t,r){return e.openBlock(),e.createElementBlock("span",xt,r[0]||(r[0]=[e.createElementVNode("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},[e.createElementVNode("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)]))}const Ct=q(kt,[["render",wt]]),Bt={},Pt={class:"w-4 h-4 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};function St(t,r){return e.openBlock(),e.createElementBlock("svg",Pt,r[0]||(r[0]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"},null,-1)]))}const Nt=q(Bt,[["render",St]]),_t={},Et={class:"w-4 h-4 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};function It(t,r){return e.openBlock(),e.createElementBlock("svg",Et,r[0]||(r[0]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]))}const $t=q(_t,[["render",It]]),vt={},At={class:"w-3 h-3 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};function Vt(t,r){return e.openBlock(),e.createElementBlock("svg",At,r[0]||(r[0]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)]))}const Mt=q(vt,[["render",Vt]]),Ft={class:"inline-flex rounded-md shadow-sm",role:"navigation","aria-label":"Pagination"},Rt=["onClick"],Y=7,Tt=e.defineComponent({__name:"ButtonsPagination",props:{maxPaginationNumber:{type:Number,required:!0},currentPaginationNumber:{type:Number,required:!0}},emits:["updatePage"],setup(t,{emit:r}){const n=t,a=r,s=e.inject("themeClasses"),d=l=>{l.type==="button"&&!l.active&&a("updatePage",l.page)},p=e.computed(()=>{const l=[],{maxPaginationNumber:i,currentPaginationNumber:c}=n;if(i<=Y){for(let o=1;o<=i;o+=1)l.push({type:"button",page:o,active:o===c,activePrev:o+1===c});return l}if([1,2,i,i-1].includes(c))for(let o=1;o<=Y;o+=1)if(o<=3)l.push({type:"button",page:o,active:o===c,activePrev:o+1===c});else if(o===4)l.push({type:"omission"});else{const m=i-(Y-o);l.push({type:"button",page:m,active:m===c,activePrev:m+1===c})}else if([3,4].includes(c))for(let o=1;o<=Y;o+=1)o<=5?l.push({type:"button",page:o,active:o===c,activePrev:o+1===c}):o===6?l.push({type:"omission"}):l.push({type:"button",page:i,active:i===c,activePrev:!1});else if([i-2,i-3].includes(c))for(let o=1;o<=Y;o+=1)if(o===1)l.push({type:"button",page:1,active:c===1,activePrev:!1});else if(o===2)l.push({type:"omission"});else{const m=i-(Y-o);l.push({type:"button",page:m,active:m===c,activePrev:m+1===c})}else for(let o=1;o<=Y;o+=1)if(o===1)l.push({type:"button",page:1,active:c===1,activePrev:!1});else if(o===2||o===6)l.push({type:"omission"});else if(o===7)l.push({type:"button",page:i,active:i===c,activePrev:!1});else{const m=4-o,y=c-m;l.push({type:"button",page:y,active:y===c,activePrev:y+1===c})}return l});return(l,i)=>(e.openBlock(),e.createElementBlock("div",Ft,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.value,(c,o)=>(e.openBlock(),e.createElementBlock("div",{key:o,class:e.normalizeClass(["relative inline-flex items-center justify-center",["min-w-[32px] h-8 text-sm",o===0&&"rounded-l-md",o===p.value.length-1&&"rounded-r-md",c.type==="button"&&["border border-gray-300",c.active?["z-10",e.unref(s).base,"relative"]:["bg-white","text-gray-700","hover:bg-gray-50","focus:z-10 focus:outline-none focus:ring-1",`focus:ring-${e.unref(s).tailwindName}-500`,`focus:border-${e.unref(s).tailwindName}-500`],!c.active&&"cursor-pointer",o!==0&&"-ml-px"],c.type==="omission"&&["bg-white border border-gray-300 text-gray-700",o!==0&&"-ml-px"]]]),style:e.normalizeStyle(e.unref(s).style),onClick:m=>d(c)},[c.type==="button"?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass(["px-3 py-1.5",{"font-medium":c.active}])},e.toDisplayString(c.page),3)):(e.openBlock(),e.createBlock(e.unref(Ct),{key:1}))],14,Rt))),128))]))}}),Lt={class:"flex items-center space-x-2",role:"navigation","aria-label":"Pagination navigation"},zt=["disabled"],Dt=["disabled"],Ot=e.defineComponent({__name:"PaginationArrows",props:{isFirstPage:{type:Boolean,required:!0,default:!1},isLastPage:{type:Boolean,required:!0,default:!1}},emits:["clickPrevPage","clickNextPage"],setup(t,{emit:r}){const n=r;return(a,s)=>(e.openBlock(),e.createElementBlock("div",Lt,[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["relative inline-flex items-center p-1.5 rounded-md border",[t.isFirstPage?["border-gray-200 bg-gray-50 text-gray-300 cursor-not-allowed","hover:bg-gray-50"]:["border-gray-300 bg-white text-gray-500","hover:bg-gray-50 hover:text-gray-700"]]]),disabled:t.isFirstPage,onClick:s[0]||(s[0]=d=>n("clickPrevPage")),"aria-label":"Previous page"},[e.createVNode(e.unref(Ae),{class:e.normalizeClass({"opacity-50":t.isFirstPage})},null,8,["class"])],10,zt),e.renderSlot(a.$slots,"buttonsPagination"),e.createElementVNode("button",{type:"button",class:e.normalizeClass(["relative inline-flex items-center p-1.5 rounded-md border",[t.isLastPage?["border-gray-200 bg-gray-50 text-gray-300 cursor-not-allowed","hover:bg-gray-50"]:["border-gray-300 bg-white text-gray-500","hover:bg-gray-50 hover:text-gray-700"]]]),disabled:t.isLastPage,onClick:s[1]||(s[1]=d=>n("clickNextPage")),"aria-label":"Next page"},[e.createVNode(e.unref(ve),{class:e.normalizeClass({"opacity-50":t.isLastPage})},null,8,["class"])],10,Dt)]))}}),jt={class:"absolute inset-0 bg-black/50 flex items-center justify-center z-50"},Ht={class:"bg-white p-6 rounded-lg shadow-xl space-y-4"},qt={class:"w-64"},Wt={class:"h-2 bg-gray-200 rounded"},Ut={class:"text-center text-sm text-gray-600"},Kt=e.defineComponent({__name:"SelectionLoadingOverlay",props:{progress:{}},setup(t){const r=e.inject("themeClasses");return(n,a)=>(e.openBlock(),e.createElementBlock("div",jt,[e.createElementVNode("div",Ht,[a[0]||(a[0]=e.createElementVNode("div",{class:"text-center text-lg font-medium"}," Processing data selection... ",-1)),e.createElementVNode("div",qt,[e.createElementVNode("div",Wt,[e.createElementVNode("div",{class:"h-2 rounded transition-all duration-300 ease-out",style:e.normalizeStyle({width:`${n.progress}%`,backgroundColor:e.unref(r).hex})},null,4)])]),e.createElementVNode("div",Ut,e.toDisplayString(Math.round(n.progress))+"% ",1)])]))}});function Gt(t,r,n,a){return{clickRow:(d,p,l)=>{if(t.value!==p)return;const i={...d};if(r.value){const{checkbox:c}=d;delete i.checkbox,i.isSelected=c}if(n.value){const{index:c}=d;delete i.index,i.indexInCurrentPage=c}a("clickRow",i,l)}}}function Jt(t,r,n){const a=e.ref([]);return{expandingItemIndexList:a,updateExpandingItemIndexList:(p,l,i)=>{i.stopPropagation();const c=a.value.indexOf(p);if(c!==-1)a.value.splice(c,1);else{const o=t.value.findIndex(m=>JSON.stringify(m)===JSON.stringify(l));n("expandRow",r.value+o,l),a.value.push(r.value+o)}},clearExpandingItemIndexList:()=>{a.value=[]}}}function Yt(t,r){const n=e.computed(()=>t.value.filter(l=>l.fixed)),a=e.computed(()=>n.value.length?n.value[n.value.length-1].value:""),s=e.computed(()=>{if(!n.value.length)return[];const l=n.value.map(i=>i.width??100);return n.value.map((i,c)=>({value:i.value,fixed:i.fixed??!0,width:i.width??100,distance:c===0?0:l.reduce((o,m,y)=>y<c?o+m:o,0)}))}),d=e.ref(!1);let p=null;return e.onMounted(()=>{const l=r.value;if(l){const i=()=>{d.value=l.scrollLeft>0};i(),l.addEventListener("scroll",i),p=()=>{l.removeEventListener("scroll",i)}}}),e.onUnmounted(()=>{p&&(p(),p=null)}),{fixedHeaders:n,lastFixedColumn:a,fixedColumnsInfos:s,showShadow:d}}function Zt(t,r,n,a,s,d,p,l,i,c,o,m,y,x,k,w,E,C,$){const I=e.computed(()=>p.value.length?{hasFixedColumns:p.value.some(P=>P.fixed),fixedHeaders:p.value.filter(P=>P.fixed),unFixedHeaders:p.value.filter(P=>!P.fixed)}:{hasFixedColumns:!1,fixedHeaders:[],unFixedHeaders:[]}),V=e.ref(Qt(k.value,w.value,E.value)),{determineHeaderSortState:D}=tr(o,y,E,V),ne=e.computed(()=>{const{fixedHeaders:P,unFixedHeaders:M}=I.value,v=[...P,...M].map(F=>({...F,sortType:F.sortable?D(F.value):void 0}));return[...Object.values(W.value).filter(Boolean),...v]}),W=e.computed(()=>({checkbox:c.value&&{text:"checkbox",value:"checkbox",fixed:a.value||I.value.hasFixedColumns,width:r.value??36},index:x.value&&{text:t.value,value:"index",fixed:d.value||I.value.hasFixedColumns,width:i.value},expand:l.value&&{text:"",value:"expand",fixed:s.value||I.value.hasFixedColumns,width:n.value}})),U=e.computed(()=>ne.value.map(P=>P.value)),se=(P,M)=>{const v=M==="none"?"asc":M==="asc"?"desc":m.value?"asc":null;if(o.value){C(P,v);return}const F=E.value?Xt(P,v,V.value):er(P,v);V.value=F,$("updateSort",{sortType:v,sortBy:P})},ie=e.computed(()=>P=>{var v,F;const M=o.value?(v=y.value)==null?void 0:v.sortBy:(F=V.value)==null?void 0:F.sortBy;return Array.isArray(M)&&M.includes(P)}),R=e.computed(()=>P=>{var v,F;const M=o.value?(v=y.value)==null?void 0:v.sortBy:(F=V.value)==null?void 0:F.sortBy;return Array.isArray(M)?M.indexOf(P)+1:!1});return{clientSortOptions:V,headerColumns:U,headersForRender:ne,updateSortField:se,isMultiSorting:ie,getMultiSortNumber:R}}function Qt(t,r,n){return n&&Array.isArray(t)&&Array.isArray(r)?{sortBy:t,sortDesc:r.map(a=>a==="desc")}:typeof t=="string"&&t!==""?{sortBy:t,sortDesc:r==="desc"}:null}const Xt=(t,r,n)=>{if(!(n!=null&&n.sortBy)||!Array.isArray(n.sortBy)||!Array.isArray(n.sortDesc))return r===null?null:{sortBy:[t],sortDesc:[r==="desc"]};const a=n.sortBy.indexOf(t),s=[...n.sortBy],d=[...n.sortDesc];return a===-1&&r!==null?(s.push(t),d.push(r==="desc")):r===null?(s.splice(a,1),d.splice(a,1)):d[a]=r==="desc",{sortBy:s,sortDesc:d}},er=(t,r)=>r===null?null:{sortBy:t,sortDesc:r==="desc"};function tr(t,r,n,a){const s=l=>!t.value||!r.value?d(l):p(l),d=l=>{if(!a.value)return"none";const{sortBy:i,sortDesc:c}=a.value;if(n.value&&Array.isArray(i)&&Array.isArray(c)){const o=i.indexOf(l);return o!==-1?c[o]?"desc":"asc":"none"}return l===i?c?"desc":"asc":"none"},p=l=>{const{sortBy:i,sortType:c}=r.value;if(n.value&&Array.isArray(i)&&Array.isArray(c)){const o=i.indexOf(l);return o!==-1?c[o]:"none"}return l===i&&c?c:"none"};return{determineHeaderSortState:s}}class rr{constructor(){Ie(this,"itemKeyCache",new WeakMap);Ie(this,"pageCache",new Map)}getItemKey(r){let n=this.itemKeyCache.get(r);if(!n){const{checkbox:a,index:s,...d}=r;n=Object.entries(d).sort(([p],[l])=>p.localeCompare(l)).map(([p,l])=>`${p}:${l}`).join("|"),this.itemKeyCache.set(r,n)}return n}clearPageCache(){this.pageCache.clear()}}function ar(t,r,n,a,s,d,p,l,i,c){const o=new rr,m=e.computed(()=>(t.value-1)*s.value+1),y=e.computed(()=>n.value?Math.min(i.value,t.value*s.value):Math.min(l.value.length,t.value*s.value)),x=e.computed(()=>n.value?a.value:l.value.slice(m.value-1,y.value)),k=e.computed(()=>p.value?x.value.map((C,$)=>({index:m.value+$,...C})):x.value),w=e.computed(()=>{if(d.value.length===0)return"noneSelected";const C=c?l.value.filter(I=>!c(I)):l.value;return d.value.length===C.length&&d.value.every(V=>C.some(D=>o.getItemKey(V)===o.getItemKey(D)))?"allSelected":"partSelected"}),E=e.computed(()=>{if(!r.value)return k.value;switch(w.value){case"allSelected":return k.value.map(C=>({checkbox:!c||!c(C),...C}));case"noneSelected":return k.value.map(C=>({checkbox:!1,...C}));default:return k.value.map(C=>({checkbox:d.value.some(I=>o.getItemKey(C)===o.getItemKey(I))&&(!c||!c(C)),...C}))}});return{currentPageFirstIndex:m,currentPageLastIndex:y,multipleSelectStatus:w,pageItems:E}}function nr(t,r,n,a,s,d,p){const l=e.ref(d.value?d.value.page:t.value),i=e.computed(()=>Math.ceil(a.value/s.value)),c=e.computed(()=>i.value===0||l.value===i.value),o=e.computed(()=>l.value===1);return{currentPaginationNumber:l,maxPaginationNumber:i,isLastPage:c,isFirstPage:o,nextPage:()=>{if(a.value!==0&&!c.value&&!n.value)if(r.value){const w=l.value+1;p(w)}else l.value+=1},prevPage:()=>{if(a.value!==0&&!o.value&&!n.value)if(r.value){const w=l.value-1;p(w)}else l.value-=1},updatePage:w=>{n.value||(r.value?p(w):l.value=w)},updateCurrentPaginationNumber:w=>{l.value=w}}}function or(t,r,n,a){var l;const s=e.computed(()=>!t.value&&r.value.findIndex(i=>i===a.value)===-1?[a.value,...r.value]:r.value),d=e.ref(((l=n.value)==null?void 0:l.rowsPerPage)??a.value);return{rowsItemsComputed:s,rowsPerPageRef:d,updateRowsPerPage:i=>{d.value=i}}}function lr(t,r,n){const a=e.computed({get:()=>{if(t.value){const{page:l,rowsPerPage:i,sortBy:c,sortType:o}=t.value;return{page:l,rowsPerPage:i,sortBy:c??null,sortType:o??null}}return null},set:l=>{n("update:serverOptions",l)}});return{serverOptionsComputed:a,updateServerOptionsPage:l=>{a.value&&(a.value={...a.value,page:l})},updateServerOptionsSort:(l,i)=>{if(a.value)if(r.value&&Array.isArray(a.value.sortBy)&&Array.isArray(a.value.sortType)){const c=a.value.sortBy.findIndex(o=>o===l);c===-1&&i!==null&&(a.value.sortBy.push(l),a.value.sortType.push(i)),i===null?(a.value.sortBy.splice(c,1),a.value.sortType.splice(c,1)):a.value.sortType[c]=i}else a.value={...a.value,sortBy:i!==null?l:null,sortType:i}},updateServerOptionsRowsPerPage:l=>{a.value&&(a.value={...a.value,page:1,rowsPerPage:l})}}}function sr(t){return[">",">=","<","<=","between"].includes(t.comparison)}function ir(t){return t.comparison==="in"}function cr(t){return typeof t.comparison=="function"}function dr(t){return typeof t=="number"&&!isNaN(t)}const fr={number(t,r,n){return{field:t,comparison:r,criteria:n}},string(t,r,n){return{field:t,comparison:r,criteria:n}},array(t,r){return{field:t,comparison:"in",criteria:r}},custom(t,r,n){return{field:t,comparison:r,criteria:n}}};function T(t,r){if(t.includes(".")){const n=t.split(".");let a=r;for(const s of n)if(a&&typeof a=="object")a=a[s];else return"";return a??""}return r[t]??""}function ur(t,r){const n=T(t,r);return Array.isArray(n)?n.join(","):n}const Ve=1e3,Me=new WeakMap,pe=t=>{let r=Me.get(t);if(!r){const{checkbox:n,index:a,...s}=t;r=JSON.stringify(s),Me.set(t,r)}return r};function pr(t,r,n,a){const s=e.ref({selectedItems:new Set,itemsMap:new Map,selectionInProgress:!1,processedCount:0,totalCount:0,visualProgress:0});e.watch(r,o=>{if(o===null){s.value.selectedItems.clear(),s.value.itemsMap.clear();return}const m=new Set,y=new Map;for(const x of o){const k=pe(x);m.add(k),y.set(k,x)}s.value.selectedItems=m,s.value.itemsMap=y},{immediate:!0,deep:!0});const d=async(o,m,y)=>new Promise(x=>{requestAnimationFrame(()=>{const k=new Set(s.value.selectedItems),w=new Map(s.value.itemsMap);for(let E=0;E<o.length;E++){const C=o[E],$=pe(C);m?(k.add($),w.set($,C)):k.delete($),s.value.processedCount=y+E+1,s.value.visualProgress=s.value.processedCount/s.value.totalCount*100}s.value.selectedItems=k,s.value.itemsMap=w,x()})}),p=async o=>{if(!s.value.selectionInProgress)try{if(s.value.selectionInProgress=!0,s.value.processedCount=0,s.value.totalCount=t.value.length,s.value.visualProgress=0,!o){s.value.selectedItems.clear(),s.value.itemsMap.clear(),a("update:itemsSelected",[]),s.value.visualProgress=100;return}const m=t.value;for(let y=0;y<m.length;y+=Ve){const k=m.slice(y,Math.min(y+Ve,m.length)).filter(w=>!n(w));await d(k,o,y),await new Promise(w=>setTimeout(w,0))}a("update:itemsSelected",i.value),o&&a("selectAll")}finally{s.value.selectionInProgress=!1}},l=o=>{const m=pe(o),y={...o};delete y.checkbox,delete y.index;const x=new Set(s.value.selectedItems),k=new Map(s.value.itemsMap);x.has(m)?(x.delete(m),a("deselectRow",y)):(x.add(m),k.set(m,y),a("selectRow",y)),s.value.selectedItems=x,s.value.itemsMap=k,a("update:itemsSelected",Array.from(k.values()).filter(E=>x.has(pe(E))))},i=e.computed(()=>s.value.selectedItems.size===0?[]:Array.from(s.value.itemsMap.entries()).filter(([o])=>s.value.selectedItems.has(o)).map(([,o])=>o)),c=e.computed(()=>s.value.visualProgress);return{selectedItems:i,toggleSelectAll:p,toggleSelectItem:l,isProcessing:e.computed(()=>s.value.selectionInProgress),selectionProgress:c}}function gr(t,r,n,a,s,d,p,l,i,c,o,m){const y=new WeakMap,x=g=>{let h=y.get(g);return h||(typeof d.value=="string"&&d.value!==""?h=String(T(d.value,g)):Array.isArray(d.value)?h=d.value.map(b=>String(T(b,g))).join(" "):h=Object.values(g).map(String).join(" "),y.set(g,h)),h},k=e.computed(()=>{if(!n.value&&p.value!==""){const g=new RegExp(p.value,"i");return a.value.filter(h=>g.test(x(h)))}return a.value}),w=(g,h)=>{const b=dr(g)?g:parseFloat(String(g));if(isNaN(b))return!1;if(h.comparison==="between"&&Array.isArray(h.criteria)){const[O,K]=h.criteria;return b>=O&&b<=K}const N=h.criteria;switch(h.comparison){case">":return b>N;case">=":return b>=N;case"<":return b<N;case"<=":return b<=N;default:return!1}},E=e.computed(()=>{var g;return(g=r.value)!=null&&g.length?k.value.filter(h=>r.value.every(b=>{const N=T(b.field,h);return cr(b)?b.comparison(N,b.criteria):sr(b)?w(N,b):ir(b)?b.criteria.includes(N):b.comparison==="="?N===b.criteria:N!==b.criteria})):k.value}),C=(g,h,b)=>g===h?0:g==null?1:h==null?-1:g<h?b?1:-1:b?-1:1,$=(g,h,b,N)=>N<0?g:$(g,h,b,N-1).sort((O,K)=>{if(!h.slice(0,N).every(oe=>T(oe,O)===T(oe,K)))return 0;const ce=h[N],he=T(ce,O),L=T(ce,K);return C(he,L,b[N])}),I=e.computed(()=>{if(n.value)return a.value;if(!t.value)return E.value;const{sortBy:g,sortDesc:h}=t.value,b=[...E.value];return i.value&&Array.isArray(g)&&Array.isArray(h)?g.length?$(b,g,h,g.length-1):b:b.sort((N,O)=>{const K=T(g,N),me=T(g,O);return C(K,me,h)})}),V=e.computed(()=>n.value?l.value:I.value.length),D=e.computed(()=>n.value?!1:(n.value?l.value:a.value.length)>=c.value),{selectedItems:ne,toggleSelectAll:W,toggleSelectItem:U,isProcessing:se,selectionProgress:ie}=pr(I,s,o,m),R=e.computed({get:()=>s.value??[],set:g=>{m("update:itemsSelected",g)}}),P=g=>g.filter(h=>!o(h)),M=g=>{R.value=g?P(I.value):R.value=[],g&&m("selectAll")},v=g=>{const h=g.checkbox;if(delete g.checkbox,delete g.index,h)R.value=R.value.filter(b=>JSON.stringify(b)!==JSON.stringify(g)),m("deselectRow",g);else{const b=R.value;b.unshift(g),R.value=b,m("selectRow",g)}};return{totalItems:I,selectItemsComputed:R,totalItemsLength:V,toggleSelectAll:g=>{if(!I.value.every(b=>o(b)))if(D.value){m("updateSelectionStatus",!0);try{W(g),m("update:itemsSelected",g?Array.from(ne.value):[]),g&&m("selectAll")}finally{m("updateSelectionStatus",!1)}}else M(g)},toggleSelectItem:g=>{o(g)||(D.value?U(g):v(g))},isProcessing:e.computed(()=>D.value&&se.value),processProgress:ie}}function mr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ke={},xe={},ge={exports:{}},Fe;function hr(){if(Fe)return ge.exports;Fe=1;var t=String,r=function(){return{isColorSupported:!1,reset:t,bold:t,dim:t,italic:t,underline:t,inverse:t,hidden:t,strikethrough:t,black:t,red:t,green:t,yellow:t,blue:t,magenta:t,cyan:t,white:t,gray:t,bgBlack:t,bgRed:t,bgGreen:t,bgYellow:t,bgBlue:t,bgMagenta:t,bgCyan:t,bgWhite:t,blackBright:t,redBright:t,greenBright:t,yellowBright:t,blueBright:t,magentaBright:t,cyanBright:t,whiteBright:t,bgBlackBright:t,bgRedBright:t,bgGreenBright:t,bgYellowBright:t,bgBlueBright:t,bgMagentaBright:t,bgCyanBright:t,bgWhiteBright:t}};return ge.exports=r(),ge.exports.createColors=r,ge.exports}var Re;function yr(){return Re||(Re=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});function r(i,c){for(var o in c)Object.defineProperty(i,o,{enumerable:!0,get:c[o]})}r(t,{dim:function(){return p},default:function(){return l}});const n=a(hr());function a(i){return i&&i.__esModule?i:{default:i}}let s=new Set;function d(i,c,o){typeof process<"u"&&process.env.JEST_WORKER_ID||o&&s.has(o)||(o&&s.add(o),console.warn(""),c.forEach(m=>console.warn(i,"-",m)))}function p(i){return n.default.dim(i)}const l={info(i,c){d(n.default.bold(n.default.cyan("info")),...Array.isArray(i)?[i]:[c,i])},warn(i,c){d(n.default.bold(n.default.yellow("warn")),...Array.isArray(i)?[i]:[c,i])},risk(i,c){d(n.default.bold(n.default.magenta("risk")),...Array.isArray(i)?[i]:[c,i])}}}(xe)),xe}var Te;function br(){return Te||(Te=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});const r=n(yr());function n(d){return d&&d.__esModule?d:{default:d}}function a({version:d,from:p,to:l}){r.default.warn(`${p}-color-renamed`,[`As of Tailwind CSS ${d}, \`${p}\` has been renamed to \`${l}\`.`,"Update your configuration file to silence this warning."])}const s={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return a({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return a({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return a({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return a({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return a({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}}(ke)),ke}var we,Le;function kr(){if(Le)return we;Le=1;let t=br();return we=(t.__esModule?t:{default:t}).default,we}var xr=kr();const z=mr(xr),Ce={light:"400",DEFAULT:"500",dark:"600"},wr=t=>{const r=ze(t);if(!r)return{color:"indigo",variant:"DEFAULT"};let n={color:"indigo",variant:"DEFAULT"},a=1/0;const s=Object.entries(z).reduce((d,[p,l])=>{if(typeof l=="object"){const i=p;Object.entries(Ce).forEach(([c,o])=>{l[o]&&(d[l[o]]={color:i,variant:c})})}return d},{});return Object.entries(s).forEach(([d,p])=>{const l=ze(d);if(!l)return;const i=Pr(r,l);i<a&&(a=i,n=p)}),n},Cr=(t,r)=>{const n=Ce[r],a=r==="dark"?"700":r==="DEFAULT"?"600":"500";return{"--theme-color":z[t][n],"--theme-border":z[t][n],"--theme-hover":z[t][a],"--theme-active":z[t][r==="light"?"500":r==="DEFAULT"?"600":"700"],"--theme-disabled":z.gray[300],"--theme-light":z[t]["400"],"--theme-focus":z[t][n]+"80"}},Br=t=>{const{color:r,variant:n="DEFAULT"}=typeof t=="string"&&t.startsWith("#")?wr(t):typeof t=="object"?t:{color:t,variant:"DEFAULT"};return{base:"bg-theme border-theme text-white",hover:"hover:bg-theme-hover",active:"active:bg-theme-active",disabled:"bg-gray-300 cursor-not-allowed",hex:typeof t=="string"&&t.startsWith("#")?t:z[r][Ce[n]],tailwindName:r,style:Cr(r,n)}};function ze(t){const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null}function Pr(t,r){return Math.sqrt(Math.pow(r.r-t.r,2)+Math.pow(r.g-t.g,2)+Math.pow(r.b-t.b,2))}const Sr=["id"],Nr=["onClick"],_r={key:1,class:"items-center gap-2"},Er={key:3,class:"header-text"},Ir={key:5,class:"ml-1 text-xs px-1.5 py-0.5 bg-gray-200 rounded-full"},$r={key:3,class:"text-sm divide-y divide-gray-200"},vr=["onClick","onDblclick","onContextmenu"],Ar=["onClick"],Vr=["onClick"],Mr=["colspan"],Fr={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/50"},Rr={class:"relative z-10"},Tr={key:1,class:"absolute inset-0 flex items-center justify-center text-gray-500"},Lr={class:"flex flex-1 justify-between sm:hidden"},zr=["disabled"],Dr=["disabled"],Or={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},jr={key:0,class:"flex items-center gap-2 text-sm text-gray-700"},Hr={key:1,class:"text-sm text-gray-700"},qr={key:1},Be=e.defineComponent({__name:"DataTable",props:{items:{default:()=>[]},headers:{default:()=>[]},currentPage:{default:1},rowsPerPage:{default:25},rowsItems:{default:()=>[25,50,100]},hideFooter:{type:Boolean,default:!1},hideRowsPerPage:{type:Boolean,default:!1},rowsPerPageMessage:{default:"rows per page:"},rowsOfPageSeparatorMessage:{default:"of"},buttonsPagination:{type:Boolean,default:!0},hidePaginationInfo:{type:Boolean},sortBy:{default:""},sortType:{default:"asc"},multiSort:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!0},filterOptions:{default:null},searchField:{default:""},searchValue:{default:""},serverOptions:{default:null},serverItemsLength:{default:0},theme:{default:()=>({color:"indigo",variant:"DEFAULT"})},alternating:{type:Boolean,default:!0},noHover:{type:Boolean,default:!1},borderCell:{type:Boolean,default:!1},tableClassName:{default:""},tableBodyClass:{},checkboxColumnWidth:{default:null},expandColumnWidth:{default:36},indexColumnWidth:{default:60},showIndex:{type:Boolean,default:!1},showIndexSymbol:{default:"#"},fixedExpand:{type:Boolean,default:!1},fixedHeader:{type:Boolean,default:!0},fixedCheckbox:{type:Boolean,default:!1},fixedIndex:{type:Boolean,default:!1},headerTextDirection:{default:"left"},bodyTextDirection:{default:"left"},headerClassName:{default:""},headerItemClassName:{type:[Function,String],default:""},bodyRowClassName:{type:[Function,String],default:""},bodyExpandRowClassName:{type:[Function,String],default:""},bodyItemClassName:{type:[Function,String],default:""},hideHeader:{type:Boolean,default:!1},itemsSelected:{default:null},clickRowToSelect:{type:Boolean,default:!1},disabledRows:{type:Function,default:()=>!1},loading:{type:Boolean,default:!1},emptyMessage:{default:"No Available Data"},clickEventType:{default:"single"},clickRowToExpand:{type:Boolean,default:!1},tableNodeId:{default:""},preventContextMenuRow:{type:Boolean,default:!1},expandColumn:{default:""},batchSelectionThreshold:{default:1e4}},emits:["clickRow","contextmenuRow","selectRow","deselectRow","expandRow","updateSort","updateFilter","update:itemsSelected","update:serverOptions","updatePageItems","updateTotalItems","selectAll","updateSelectionStatus"],setup(t,{expose:r,emit:n}){const a=t,{checkboxColumnWidth:s,expandColumnWidth:d,indexColumnWidth:p,rowsItems:l,preventContextMenuRow:i,showIndexSymbol:c,currentPage:o,filterOptions:m,headers:y,itemsSelected:x,loading:k,items:w,rowsPerPage:E,searchField:C,searchValue:$,serverItemsLength:I,showIndex:V,sortBy:D,sortType:ne,serverOptions:W,multiSort:U,mustSort:se,clickEventType:ie,clickRowToSelect:R,fixedExpand:P,fixedCheckbox:M,fixedIndex:v,batchSelectionThreshold:F,disabledRows:Wr}=e.toRefs(a),g=e.computed(()=>Br(a.theme));e.provide("themeClasses",g);const h=e.useSlots(),b=e.computed(()=>!!h.pagination),N=e.computed(()=>!!h.loading),O=e.computed(()=>!!h.expand),K=e.computed(()=>!!h.body),me=e.computed(()=>!!(h.paginationInfo||h["pagination-info"])),ce=e.ref(null),he=e.ref(null);e.provide("dataTable",ce);const L=n,oe=e.computed(()=>x.value!==null),Z=e.computed(()=>W.value!==null),{serverOptionsComputed:Pe,updateServerOptionsPage:Ur,updateServerOptionsSort:Kr,updateServerOptionsRowsPerPage:Gr}=lr(W,U,L),{clientSortOptions:Oe,headerColumns:je,headersForRender:Q,updateSortField:Jr,isMultiSorting:Yr,getMultiSortNumber:Zr}=Zt(c,s,d,M,P,v,y,O,p,oe,Z,se,Pe,V,D,ne,U,Kr,L),{rowsItemsComputed:He,rowsPerPageRef:G,updateRowsPerPage:Qr}=or(Z,l,W,E),{totalItems:qe,selectItemsComputed:Xr,totalItemsLength:de,toggleSelectAll:ea,toggleSelectItem:Se,isProcessing:ta,processProgress:ra}=gr(Oe,m,Z,w,x,C,$,I,U,F,a.disabledRows,L),{currentPaginationNumber:j,maxPaginationNumber:fe,isLastPage:X,isFirstPage:ee,nextPage:te,prevPage:re,updatePage:ue,updateCurrentPaginationNumber:aa}=nr(o,Z,k,de,G,W,Ur),{currentPageFirstIndex:Ne,currentPageLastIndex:_e,multipleSelectStatus:We,pageItems:J}=ar(j,oe,Z,w,G,Xr,V,qe,de,a.disabledRows),H=e.computed(()=>j.value===0?0:(j.value-1)*G.value),{expandingItemIndexList:ye,updateExpandingItemIndexList:be,clearExpandingItemIndexList:Ue}=Jt(J,H,L),{fixedHeaders:Ke,lastFixedColumn:na,fixedColumnsInfos:oa,showShadow:Ge}=Yt(Q,he),{clickRow:Je}=Gt(ie,oe,V,L),la=(f,_)=>{i.value&&_.preventDefault(),L("contextmenuRow",f,_)},sa=f=>{const _=f.width??(Ke.value.length?100:null);if(_)return`width: ${_}px; min-width: ${_}px;`},Ye=(f,_="th")=>{if(!Ke.value.length)return;const u=oa.value.find(S=>S.value===f);if(u)return`
            left: ${u.distance}px;
            z-index: ${_==="th"?3:1};
            position: sticky;
            background-color: ${_==="th"?"none":"inherit"};
        `},Ee=f=>typeof a.disabledRows=="function"?a.disabledRows(f):!1,ia=e.computed(()=>J.value.every(f=>a.disabledRows(f)));return e.watch(k,(f,_)=>{Pe.value&&f===!1&&_===!0&&(aa(Pe.value.page),Ue())}),e.watch(G,f=>{Z.value?Gr(f):ue(1)}),e.watch([$,m],()=>{Z.value||ue(1)}),e.watch([j,Oe,C,$,m],()=>{Ue()},{deep:!0}),e.watch(J,f=>{L("updatePageItems",f)},{deep:!0}),e.watch(qe,f=>{L("updateTotalItems",f)},{deep:!0}),r({currentPageFirstIndex:Ne,currentPageLastIndex:_e,clientItemsLength:de,maxPaginationNumber:fe,currentPaginationNumber:j,isLastPage:X,isFirstPage:ee,nextPage:te,prevPage:re,updatePage:ue,rowsPerPageOptions:He,rowsPerPageActiveOption:G,updateRowsPerPageActiveOption:Qr}),(f,_)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"dataTable",ref:ce,class:e.normalizeClass(["relative w-full",[f.tableClassName]])},[e.createElementVNode("div",{ref_key:"tableBody",ref:he,class:e.normalizeClass(["relative overflow-auto border border-gray-200 min-h-[180px]",[{"shadow-sm":e.unref(Ge)},f.tableBodyClass]])},[e.createElementVNode("table",{id:f.tableNodeId,class:"w-full border-collapse bg-white"},[e.createElementVNode("colgroup",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(Q),(u,S)=>(e.openBlock(),e.createElementBlock("col",{key:S,style:e.normalizeStyle(sa(u))},null,4))),128))]),e.unref(h)["customize-headers"]?e.renderSlot(f.$slots,"customize-headers",{key:0}):e.unref(Q).length&&!f.hideHeader?(e.openBlock(),e.createElementBlock("thead",{key:1,class:e.normalizeClass(["text-sm text-slate-700 uppercase bg-gray-100 text-nowrap",f.headerClassName,{"sticky top-0 z-10":f.fixedHeader}])},[e.createElementVNode("tr",{class:e.normalizeClass([{"divide-x divide-gray-200":f.borderCell}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(Q),(u,S)=>(e.openBlock(),e.createElementBlock("th",{key:S,style:e.normalizeStyle(Ye(u.value)),class:e.normalizeClass(["px-4 py-3 font-semibold tracking-wider group",[{"cursor-pointer hover:bg-gray-200":u.sortable,"bg-gray-100":u.sortable&&u.sortType==="none"&&f.headerClassName===""&&f.headerClassName==="","bg-gray-200":(u.sortable&&u.sortType==="desc"||u.sortType==="asc")&&f.headerClassName==="","shadow-[1px_0_0_0_rgba(0,0,0,0.1)]":u.value===e.unref(na)},typeof f.headerItemClassName=="string"?f.headerItemClassName:f.headerItemClassName(u,S+1),`text-${f.headerTextDirection}`]]),onClick:B=>u.sortable&&u.sortType?e.unref(Jr)(u.value,u.sortType):null},[u.text==="checkbox"&&e.unref(x)!==null?(e.openBlock(),e.createBlock(et,{disabled:ia.value,key:e.unref(We),status:e.unref(We),onChange:e.unref(ea)},null,8,["disabled","status","onChange"])):(e.openBlock(),e.createElementBlock("div",_r,[e.unref(h)[`header-${u.value}`]?e.renderSlot(f.$slots,`header-${u.value}`,e.mergeProps({key:0,ref_for:!0},u)):e.unref(h)[`header-${u.value.toLowerCase()}`]?e.renderSlot(f.$slots,`header-${u.value.toLowerCase()}`,e.mergeProps({key:1,ref_for:!0},u)):e.unref(h).header?e.renderSlot(f.$slots,"header",e.mergeProps({key:2,ref_for:!0},u)):(e.openBlock(),e.createElementBlock("span",Er,e.toDisplayString(u.text),1)),u.sortable?(e.openBlock(),e.createElementBlock("span",{key:u.sortType?u.sortType:"none",class:e.normalizeClass(["inline-flex transition-opacity duration-200",[u.sortType==="none"?"opacity-0":"opacity-100","group-hover:opacity-100"]])},[e.createVNode(e.unref(Mt),{class:e.normalizeClass({"transform rotate-180":u.sortType==="desc"})},null,8,["class"])],2)):e.createCommentVNode("",!0),e.unref(U)&&e.unref(Yr)(u.value)?(e.openBlock(),e.createElementBlock("span",Ir,e.toDisplayString(e.unref(Zr)(u.value)),1)):e.createCommentVNode("",!0)]))],14,Nr))),128))],2)],2)):e.createCommentVNode("",!0),K.value?e.renderSlot(f.$slots,"body",e.normalizeProps(e.mergeProps({key:2},e.unref(J)))):e.unref(je).length?(e.openBlock(),e.createElementBlock("tbody",$r,[e.renderSlot(f.$slots,"body-prepend",e.normalizeProps(e.guardReactiveProps({items:e.unref(J),pagination:{isFirstPage:e.unref(ee),isLastPage:e.unref(X),currentPaginationNumber:e.unref(j),maxPaginationNumber:e.unref(fe),nextPage:e.unref(te),prevPage:e.unref(re)},headers:e.unref(Q)}))),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(J),(u,S)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:u.key||S},[e.createElementVNode("tr",{class:e.normalizeClass(["transition-colors bg-white",[{"even:bg-gray-50 odd:bg-white":f.alternating},!f.noHover&&"hover:bg-gray-100",typeof f.bodyRowClassName=="string"?f.bodyRowClassName:f.bodyRowClassName(u,S+1),{"divide-x divide-gray-200":f.borderCell}]]),onClick:B=>{f.clickRowToExpand&&e.unref(be)(S+H.value,u,B),e.unref(R)&&!Ee(u)&&e.unref(Se)(u),e.unref(Je)(u,"single",B)},onDblclick:B=>e.unref(Je)(u,"double",B),onContextmenu:B=>la(u,B)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(je),(B,ca)=>(e.openBlock(),e.createElementBlock("td",{key:ca,style:e.normalizeStyle(Ye(B,"td")),class:e.normalizeClass(["px-4 py-2",[{"cursor-pointer":B==="expand"&&f.expandColumn===""},typeof f.bodyItemClassName=="string"?f.bodyItemClassName:f.bodyItemClassName(B,S+1),`text-${f.bodyTextDirection}`]]),onClick:le=>B==="expand"&&f.expandColumn===""?e.unref(be)(S+H.value,u,le):null},[e.unref(h)[`item-${B}`]?e.renderSlot(f.$slots,`item-${B}`,e.mergeProps({key:0,ref_for:!0},u)):e.unref(h)[`item-${B.toLowerCase()}`]?e.renderSlot(f.$slots,`item-${B.toLowerCase()}`,e.mergeProps({key:1,ref_for:!0},u)):B===f.expandColumn?e.renderSlot(f.$slots,"expand-button",{key:2,item:u,expanded:e.unref(ye).includes(H.value+S),toggle:le=>e.unref(be)(S+H.value,u,le)},()=>[e.createElementVNode("button",{onClick:e.withModifiers(le=>e.unref(be)(S+H.value,u,le),["stop"]),class:"inline-flex items-center"},[e.createVNode(e.unref(Nt),{class:e.normalizeClass({"transform -rotate-90":e.unref(ye).includes(H.value+S)})},null,8,["class"])],8,Vr)]):B==="expand"&&f.expandColumn===""?(e.openBlock(),e.createBlock(e.unref($t),{key:3,class:e.normalizeClass({"transform rotate-90":e.unref(ye).includes(H.value+S)})},null,8,["class"])):B==="checkbox"?e.renderSlot(f.$slots,"selection-checkbox",e.mergeProps({key:4,ref_for:!0},{item:u,index:S,toggleSelectItem:e.unref(Se),isItemSelected:u[B],isItemDisabled:Ee(u)}),()=>[e.createVNode($e,{checked:u[B],onChange:le=>e.unref(Se)(u),disabled:Ee(u)},null,8,["checked","onChange","disabled"])]):e.unref(h).item?e.renderSlot(f.$slots,"item",e.mergeProps({key:5,ref_for:!0},{column:B,item:u})):(e.openBlock(),e.createElementBlock(e.Fragment,{key:6},[e.createTextVNode(e.toDisplayString(e.unref(ur)(B,u)),1)],64))],14,Ar))),128))],42,vr),O.value&&e.unref(ye).includes(S+H.value)?(e.openBlock(),e.createElementBlock("tr",{key:0,class:e.normalizeClass([{"bg-gray-50":(S+1)%2===0},typeof f.bodyExpandRowClassName=="string"?f.bodyExpandRowClassName:f.bodyExpandRowClassName(u,S+1)])},[e.createElementVNode("td",{colspan:e.unref(Q).length,class:"px-4 py-2"},[u.expandLoading?(e.openBlock(),e.createBlock(ut,{key:0,class:"mb-4"})):e.createCommentVNode("",!0),e.renderSlot(f.$slots,"expand",e.mergeProps({ref_for:!0},u))],8,Mr)],2)):e.createCommentVNode("",!0)],64))),128)),e.renderSlot(f.$slots,"body-append",e.normalizeProps(e.guardReactiveProps({items:e.unref(J),pagination:{isFirstPage:e.unref(ee),isLastPage:e.unref(X),currentPaginationNumber:e.unref(j),maxPaginationNumber:e.unref(fe),nextPage:e.unref(te),prevPage:e.unref(re),updatePage:e.unref(ue)},headers:e.unref(Q)})))])):e.createCommentVNode("",!0)],8,Sr),e.unref(k)?(e.openBlock(),e.createElementBlock("div",Fr,[e.createElementVNode("div",Rr,[N.value?e.renderSlot(f.$slots,"loading",{key:0}):(e.openBlock(),e.createBlock(dt,{key:1}))])])):e.createCommentVNode("",!0),!e.unref(J).length&&!e.unref(k)?(e.openBlock(),e.createElementBlock("div",Tr,[e.renderSlot(f.$slots,"empty-message",{},()=>[e.createTextVNode(e.toDisplayString(f.emptyMessage),1)])])):e.createCommentVNode("",!0)],2),f.hideFooter?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["flex items-center justify-between px-4 py-3 bg-white",{"border border-gray-200 border-t-0":!0,"shadow-sm":e.unref(Ge)}])},[e.createElementVNode("div",Lr,[e.createElementVNode("button",{class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:bg-gray-100",onClick:_[0]||(_[0]=(...u)=>e.unref(re)&&e.unref(re)(...u)),disabled:e.unref(ee)},[e.createVNode(e.unref(Ae),{class:e.normalizeClass({"opacity-50":e.unref(ee)})},null,8,["class"])],8,zr),e.createElementVNode("button",{class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:bg-gray-100",onClick:_[1]||(_[1]=(...u)=>e.unref(te)&&e.unref(te)(...u)),disabled:e.unref(X)},[e.createVNode(e.unref(ve),{class:e.normalizeClass({"opacity-50":e.unref(X)})},null,8,["class"])],8,Dr)]),e.createElementVNode("div",Or,[f.hideRowsPerPage?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",jr,[e.createTextVNode(e.toDisplayString(f.rowsPerPageMessage)+" ",1),e.createVNode(st,{modelValue:e.unref(G),"onUpdate:modelValue":_[2]||(_[2]=u=>e.isRef(G)?G.value=u:null),"rows-items":e.unref(He)},null,8,["modelValue","rows-items"])])),f.hidePaginationInfo?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Hr,[me.value?e.renderSlot(f.$slots,"pagination-info",e.normalizeProps(e.mergeProps({key:0},{currentPageFirstIndex:e.unref(Ne),currentPageLastIndex:e.unref(_e),totalItemsLength:e.unref(de),rowsOfPageSeparatorMessage:f.rowsOfPageSeparatorMessage}))):(e.openBlock(),e.createElementBlock("span",qr,e.toDisplayString(`${e.unref(Ne)}â€“${e.unref(_e)}`)+" "+e.toDisplayString(f.rowsOfPageSeparatorMessage)+" "+e.toDisplayString(e.unref(de)),1))])),b.value?e.renderSlot(f.$slots,"pagination",e.normalizeProps(e.mergeProps({key:2},{isFirstPage:e.unref(ee),isLastPage:e.unref(X),currentPaginationNumber:e.unref(j),maxPaginationNumber:e.unref(fe),nextPage:e.unref(te),prevPage:e.unref(re)}))):(e.openBlock(),e.createBlock(Ot,{key:3,"is-first-page":e.unref(ee),"is-last-page":e.unref(X),onClickNextPage:e.unref(te),onClickPrevPage:e.unref(re)},e.createSlots({_:2},[f.buttonsPagination?{name:"buttonsPagination",fn:e.withCtx(()=>[e.createVNode(Tt,{"current-pagination-number":e.unref(j),"max-pagination-number":e.unref(fe),onUpdatePage:e.unref(ue)},null,8,["current-pagination-number","max-pagination-number","onUpdatePage"])]),key:"0"}:void 0]),1032,["is-first-page","is-last-page","onClickNextPage","onClickPrevPage"]))])],2)),e.withDirectives(e.createVNode(Kt,{progress:e.unref(ra)},null,8,["progress"]),[[e.vShow,e.unref(ta)]])],2))}}),De=t=>{t.component("DataTable",Be)};Be.install=De,A.createFilter=fr,A.default=Be,A.install=De,Object.defineProperties(A,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
